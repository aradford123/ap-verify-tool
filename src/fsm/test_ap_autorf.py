#!/usr/bin/env python
from __future__ import print_function
import jtextfsm as textfsm

sample='''
Number Of Slots.................................. 2 
AP Name.......................................... adam-ap-branch
MAC Address...................................... b0:aa:77:6a:17:88
  Slot ID........................................ 1
  Radio Type..................................... RADIO_TYPE_80211a
  Sub-band Type.................................. All
  Noise Information
    Noise Profile................................ PASSED
    Channel 36...................................  -92 dBm
    Channel 40...................................  -91 dBm
    Channel 44...................................  -91 dBm
    Channel 48...................................  -92 dBm
    Channel 52...................................  -92 dBm
    Channel 56...................................  -93 dBm
    Channel 60...................................  -93 dBm
    Channel 64...................................  -93 dBm
    Channel 100..................................  -92 dBm
    Channel 104..................................  -92 dBm
    Channel 108..................................  -91 dBm
    Channel 112..................................  -90 dBm
    Channel 116..................................  -90 dBm
    Channel 132..................................  -90 dBm
    Channel 136..................................  -89 dBm
    Channel 140..................................  -89 dBm
    Channel 149..................................  -91 dBm
    Channel 153..................................  -91 dBm
    Channel 157..................................  -91 dBm
    Channel 161..................................  -88 dBm
    Channel 165..................................  -89 dBm
  Interference Information
    Interference Profile......................... PASSED
    Channel 36................................... -128 dBm @  0 % busy
    Channel 40................................... -128 dBm @  0 % busy
    Channel 44................................... -128 dBm @  0 % busy
    Channel 48................................... -128 dBm @  0 % busy
    Channel 52................................... -128 dBm @  0 % busy
    Channel 56................................... -128 dBm @  0 % busy
    Channel 60................................... -128 dBm @  0 % busy
    Channel 64................................... -128 dBm @  0 % busy
    Channel 100.................................. -128 dBm @  0 % busy
    Channel 104.................................. -128 dBm @  0 % busy
    Channel 108.................................. -128 dBm @  0 % busy
    Channel 112.................................. -128 dBm @  0 % busy
    Channel 116.................................. -128 dBm @  0 % busy
    Channel 132.................................. -128 dBm @  0 % busy
    Channel 136.................................. -128 dBm @  0 % busy
    Channel 140.................................. -128 dBm @  0 % busy
    Channel 149.................................. -128 dBm @  0 % busy
    Channel 153.................................. -128 dBm @  0 % busy
    Channel 157.................................. -128 dBm @  0 % busy
    Channel 161.................................. -128 dBm @  0 % busy
    Channel 165.................................. -128 dBm @  0 % busy
    Rogue Histogram (20/40/80/160)
    ............................................. 
    Channel 36...................................  0/ 0/ 0/ 0
    Channel 40...................................  0/ 1/ 0/ 0
    Channel 44...................................  0/ 0/ 0/ 0
    Channel 48...................................  0/ 1/ 0/ 0
    Channel 52...................................  0/ 0/ 0/ 0
    Channel 56...................................  0/ 1/ 0/ 0
    Channel 60...................................  0/ 0/ 0/ 0
    Channel 64...................................  0/ 0/ 0/ 0
    Channel 100..................................  0/ 0/ 0/ 0
    Channel 104..................................  0/ 1/ 0/ 0
    Channel 108..................................  0/ 0/ 0/ 0
    Channel 112..................................  0/ 1/ 0/ 0
    Channel 116..................................  1/ 0/ 0/ 0
    Channel 132..................................  0/ 0/ 0/ 0
    Channel 136..................................  0/ 1/ 0/ 0
    Channel 140..................................  0/ 0/ 0/ 0
    Channel 149..................................  0/ 0/ 0/ 0
    Channel 153..................................  0/ 0/ 0/ 0
    Channel 157..................................  0/ 0/ 0/ 0
    Channel 161..................................  0/ 0/ 0/ 0
    Channel 165..................................  0/ 0/ 0/ 0
  Load Information
    Load Profile................................. PASSED
    Receive Utilization.......................... 0 %
    Transmit Utilization......................... 33 %
    Channel Utilization.......................... 42 %
    Attached Clients............................. 1 clients
  Coverage Information
    Coverage Profile............................. PASSED
    Failed Clients............................... 0 clients
  Client Signal Strengths
    RSSI -100 dbm................................ 0 clients
    RSSI  -92 dbm................................ 0 clients
    RSSI  -84 dbm................................ 0 clients
'''

template = open("show_ap_autorf.textfsm")
re_table = textfsm.TextFSM(template)
fsm_results = re_table.ParseText(sample)
print (fsm_results)
